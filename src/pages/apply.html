<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles-67aa3b0203355627b525be2ea57be7bf.css">
    <meta http-equiv="refresh" content="3; url=%s/">
    <title>Apply Changes - ESP32 NAT Router</title>
</head>

<body>
    <div class="container container-narrow">
        <div class="header header-compact">
            <div class="header-content">
                <h1>Configuration Applied</h1>
                <div class="header-subtitle">ESP32 NAT Router</div>
            </div>
        </div>
        
        <div class="content content-compact">
            <div class="card text-center">
                <div class="restart-icon" style="font-size: 3rem; margin-bottom: 1rem;">ðŸ”„</div>
                <h2 class="mb-3" style="color: #334155;">Settings Successfully Applied</h2>
                
                <div class="alert alert-warning mb-3">
                    <strong>Device Restart in Progress</strong><br>
                    The new configuration has been saved and the device is restarting to apply changes.
                </div>
                
                <div class="progress mb-3">
                    <div class="progress-bar progress-bar-warning" style="width: 100%; animation: pulse 1.5s infinite;"></div>
                </div>
                
                <p class="text-muted mb-2">
                    <strong>Please wait...</strong> You will be automatically redirected to the configuration page in a few seconds.
                </p>
                
                <p class="text-small text-muted">
                    If the page doesn't reload automatically, please wait 30 seconds and then manually refresh your browser or click the link below.
                </p>
                
                <div class="mt-4">
                    <a href="%s/" class="btn btn-primary">
                        <span class="back-icon"></span>Return to Configuration
                    </a>
                </div>
            </div>
            
            <div class="card card-compact">
                <h3 class="mb-2" style="color: #334155; font-size: 1.1rem;">What's happening?</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Status</span>
                        <span class="status status-warning">Restarting</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Estimated Time</span>
                        <span class="info-value">15-30 seconds</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Next Step</span>
                        <span class="info-value">Auto-redirect</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Add a countdown timer for better UX
        let countdown = 3;
        const updateCountdown = () => {
            const elements = document.querySelectorAll('.countdown');
            elements.forEach(el => el.textContent = countdown);
            if (countdown > 0) {
                countdown--;
                setTimeout(updateCountdown, 1000);
            }
        };
        
        // Start countdown if elements exist
        if (document.querySelector('.countdown')) {
            updateCountdown();
        }
        
        // Add visual feedback for the restart process
        setTimeout(() => {
            const progressBar = document.querySelector('.progress-bar');
            if (progressBar) {
                progressBar.style.animation = 'pulse 0.8s infinite';
            }
        }, 1000);
    </script>
</body>

</html>